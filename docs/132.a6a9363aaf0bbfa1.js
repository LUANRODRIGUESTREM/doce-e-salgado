"use strict";(self.webpackChunkdoce_e_salgado=self.webpackChunkdoce_e_salgado||[]).push([[132],{132:(C,m,h)=>{h.r(m),h.d(m,{GameModule:()=>M});var y=h(895),u=h(322);function g(n,o,e,i,s,r,c){try{var d=n[r](c),l=d.value}catch(P){return void e(P)}d.done?o(l):Promise.resolve(l).then(i,s)}var t=h(256);const v=["game"],w=[{path:"",component:(()=>{class n{constructor(){this.onKeyDown=e=>{let i=e.key.toLowerCase();this.move(i)},this.game={},this.player1={player:1},this.player2={player:2},this.movementKeysPlayer1={a:()=>{this.setPositionX(this.player1,"left")},d:()=>{this.setPositionX(this.player1,"right")}},this.movementKeysPlayer2={arrowleft:()=>{this.setPositionX(this.player2,"left")},arrowright:()=>{this.setPositionX(this.player2,"right")}}}ngOnInit(){this.context=this.game.nativeElement.getContext("2d"),this.start()}start(){let e=this.game.nativeElement.width-40,i=this.game.nativeElement.height-40;this.player1.position={x:Math.floor(Math.random()*e),y:Math.floor(Math.random()*i)},this.player2.position={x:Math.floor(Math.random()*e),y:Math.floor(Math.random()*i)}}move(e){var i=this;return function f(n){return function(){var o=this,e=arguments;return new Promise(function(i,s){var r=n.apply(o,e);function c(l){g(r,i,s,c,d,"next",l)}function d(l){g(r,i,s,c,d,"throw",l)}c(void 0)})}}(function*(){e in i.movementKeysPlayer1?(i.player1.lastKeyPress=e,i.movementKeysPlayer1[e]()):e in i.movementKeysPlayer2&&(i.player2.lastKeyPress=e,i.movementKeysPlayer2[e]())})()}setPositionX(e,i){"right"==i?e.position.x+=1:e.position.x-=1,console.log(e.player,e.lastKeyPress,e.position),this.draw()}draw(){this.context.clearRect(0,0,this.game.nativeElement.width,this.game.nativeElement.height),this.context.fillStyle="rgb(200,0,0)",this.context.fillRect(this.player1.position.x,this.player1.position.y,40,100),this.context.fillStyle="rgba(0, 0, 200, 0.5)",this.context.fillRect(this.player2.position.x,this.player2.position.y,40,100)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-game"]],viewQuery:function(e,i){if(1&e&&t.Gf(v,7),2&e){let s;t.iGM(s=t.CRH())&&(i.game=s.first)}},hostBindings:function(e,i){1&e&&t.NdJ("keydown",function(r){return i.onKeyDown(r)},!1,t.pYS)},decls:28,vars:0,consts:[[1,"container"],[1,"info"],[1,"teclas"],[1,"teclado"],[1,"tecla"],[1,"game"],["width","750","height","500",1,"canvas"],["game",""]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._uU(5,"W"),t.qZA()(),t.TgZ(6,"div",3)(7,"div",4),t._uU(8,"A"),t.qZA(),t.TgZ(9,"div",4),t._uU(10,"S"),t.qZA(),t.TgZ(11,"div",4),t._uU(12,"D"),t.qZA()()()(),t.TgZ(13,"div",5),t._UZ(14,"canvas",6,7),t.qZA(),t.TgZ(16,"div",1)(17,"div",2)(18,"div",3)(19,"div",4),t._uU(20,"\u2191"),t.qZA()(),t.TgZ(21,"div",3)(22,"div",4),t._uU(23,"\u2190"),t.qZA(),t.TgZ(24,"div",4),t._uU(25,"\u2193"),t.qZA(),t.TgZ(26,"div",4),t._uU(27,"\u2192"),t.qZA()()()()())},styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center}.info[_ngcontent-%COMP%]{width:100px;height:100%;display:flex;flex-direction:column}.teclado[_ngcontent-%COMP%]{display:flex;justify-content:center}.tecla[_ngcontent-%COMP%]{width:30px;height:30px;align-items:center;border:solid .5px}.canvas[_ngcontent-%COMP%]{border:solid}"]}),n})()}];let x=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[u.Bz.forChild(w),u.Bz]}),n})(),M=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[y.ez,x]}),n})()}}]);