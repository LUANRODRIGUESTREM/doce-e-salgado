"use strict";(self.webpackChunkdoce_e_salgado=self.webpackChunkdoce_e_salgado||[]).push([[411],{411:(P,d,r)=>{r.r(d),r.d(d,{GameModule:()=>C});var m=r(895),c=r(322);const g=[0,200];var t=r(256);const f=["game"];function v(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",9)(1,"div",10)(2,"div")(3,"h1"),t._uU(4,"DOCE E SALGADO"),t.qZA()(),t.TgZ(5,"div"),t._uU(6,"engrenagem"),t.qZA(),t.TgZ(7,"div")(8,"div",11),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.playPause())}),t._uU(9,"play"),t.qZA()(),t.TgZ(10,"div"),t._uU(11," ilustrac\xe7oes "),t.qZA()()()}}const w=[{path:"",component:(()=>{class n{constructor(){this.sprites=new Image,this.player1={player:1,direction:"right",running:!1,jumping:!1,spriteNumber:0},this.player2={player:2,direction:"left",running:!1,jumping:!1,spriteNumber:0},this.play=!1,this.onKeyDownSpace=this.playPause,this.onKeyDown=e=>{let i=e.key.toLowerCase();this.play&&this.setDirection(i),console.log("keydown",i)},this.onKeyUp=e=>{let i=e.key.toLowerCase();this.play&&this.stopMovement(i),console.log("keyup",i)},this.onLoad=()=>{this.gravity(),this.running(),this.draw()},this.game={},this.movementKeysPlayer1={a:"left",d:"right",w:"up"},this.movementKeysPlayer2={arrowleft:"left",arrowright:"right",arrowup:"up"}}ngOnInit(){this.sprites.src="/assets/img/SPRITES.png",this.context=this.game.nativeElement.getContext("2d");let e=this.game.nativeElement.width-64,i=this.game.nativeElement.height-108;this.player1.position={x:Math.floor(Math.random()*e),y:Math.floor(Math.random()*i)},this.player1.positionJump=this.player1.position,this.player2.position={x:Math.floor(Math.random()*e),y:Math.floor(Math.random()*i)},this.player2.positionJump=this.player2.position}loop(){requestAnimationFrame(this.loop)}drawPlayer(e){this.context.drawImage(this.sprites,5+g[e.spriteNumber],8,200,331,e.position.x,e.position.y,64,108)}playPause(){this.play=!this.play,this.play?this.positionsInterval=setInterval(()=>{this.gravity(),this.running(),this.draw()},16.666666666666668):clearInterval(this.positionsInterval)}setDirection(e){e in this.movementKeysPlayer1?(this.player1.lastKeyPress=e,this.player1.running=!0,"w"==e?(this.player1.positionJump=this.player1.position,this.player1.jumping=!0):this.player1.direction=this.movementKeysPlayer1[e]):e in this.movementKeysPlayer2&&(this.player2.lastKeyPress=e,this.player2.running=!0,"arrowup"==e?(this.player2.positionJump=this.player2.position,this.player2.jumping=!0):this.player2.direction=this.movementKeysPlayer2[e])}stopMovement(e){e in this.movementKeysPlayer1?(this.player1.running=!1,"w"==e&&(this.player1.jumping=!1)):e in this.movementKeysPlayer2&&(this.player2.running=!1,"arrowup"==e&&(this.player2.jumping=!1))}gravity(){this.player1.position.y<this.game.nativeElement.height-108&&(this.player1.position.y+=10),this.player2.position.y<this.game.nativeElement.height-108&&(this.player2.position.y+=10)}running(){this.setPosition(this.player1),this.setPosition(this.player2)}setPosition(e){if(e.running){let i=e.position.x;"right"==e.direction?i+=10:i-=10,0<=i&&i<=this.game.nativeElement.width-64&&(e.position.x=i)}e.jumping&&(e.position.y>0&&(e.position.y-=20),e.position.y<=e.positionJump.y-108&&this.stopMovement(e.lastKeyPress))}draw(){this.context.clearRect(0,0,this.game.nativeElement.width,this.game.nativeElement.height),this.drawPlayer(this.player1),this.drawPlayer(this.player2)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-game"]],viewQuery:function(e,i){if(1&e&&t.Gf(f,7),2&e){let a;t.iGM(a=t.CRH())&&(i.game=a.first)}},hostBindings:function(e,i){1&e&&t.NdJ("keydown.space",function(l){return i.onKeyDownSpace(l)},!1,t.pYS)("keydown",function(l){return i.onKeyDown(l)},!1,t.pYS)("keyup",function(l){return i.onKeyUp(l)},!1,t.pYS)("load",function(){return i.onLoad()},!1,t.evT)},decls:30,vars:1,consts:[[1,"container"],[1,"info"],[1,"teclas"],[1,"teclado"],[1,"tecla"],[1,"game"],["width","750","height","500",1,"canvas"],["game",""],["class","modal",4,"ngIf"],[1,"modal"],[1,"modal-content"],[1,"play",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._uU(5,"W"),t.qZA()(),t.TgZ(6,"div",3)(7,"div",4),t._uU(8,"A"),t.qZA(),t.TgZ(9,"div",4),t._uU(10,"S"),t.qZA(),t.TgZ(11,"div",4),t._uU(12,"D"),t.qZA()()()(),t.TgZ(13,"div",5)(14,"div"),t._UZ(15,"canvas",6,7),t.qZA(),t.YNc(17,v,12,0,"div",8),t.qZA(),t.TgZ(18,"div",1)(19,"div",2)(20,"div",3)(21,"div",4),t._uU(22,"\u2191"),t.qZA()(),t.TgZ(23,"div",3)(24,"div",4),t._uU(25,"\u2190"),t.qZA(),t.TgZ(26,"div",4),t._uU(27,"\u2193"),t.qZA(),t.TgZ(28,"div",4),t._uU(29,"\u2192"),t.qZA()()()()()),2&e&&(t.xp6(17),t.Q6J("ngIf",!i.play))},dependencies:[m.O5],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;background-color:#000}.info[_ngcontent-%COMP%]{width:100px;height:100%;display:flex;flex-direction:column}.teclado[_ngcontent-%COMP%]{display:flex;justify-content:center}.tecla[_ngcontent-%COMP%]{width:30px;height:30px;align-items:center;border:solid .5px;background-color:#fff}.canvas[_ngcontent-%COMP%]{border:solid;background-color:#fff}.modal[_ngcontent-%COMP%]{display:block;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;flex-direction:column}.play[_ngcontent-%COMP%]{height:50px;width:150px;border:solid .5px;border-radius:5px;display:flex;align-items:center;justify-content:center}.play[_ngcontent-%COMP%]:hover{background-color:#00f;color:#fff}"]}),n})()}];let _=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.Bz.forChild(w),c.Bz]}),n})(),C=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.ez,_]}),n})()}}]);